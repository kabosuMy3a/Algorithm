<!DOCTYPE html>
<html>
<body>

<input type="text" id="depth" value="">
<button onclick="doDraw()">Draw</button>
<button onclick="doClear()">Clear</button>
<br>
<canvas id="canvas" width="600" height="1000"></canvas>

<script type="text/javascript">
var elem = document.getElementById('canvas');
var context = elem.getContext('2d');
context.fillStyle = '#000';
context.lineWidth = 1;
var deg_to_rad = Math.PI / 180.0;
//var depth = 1;
function drawLine(x1, y1, x2, y2){
  context.moveTo(x1, y1);
  context.lineTo(x2, y2);
}

function drawCross(x1, y1, angle, depth,depth_d ,angle_d){ 
  if(depth!==0){
    var x2 = x1 + (Math.cos(angle * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    var y2 = y1 + (Math.sin(angle * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    drawLine(x1, y1, x2, y2);
    drawCross(x2, y2, angle, depth-1,depth_d, angle_d); 
    
    x2 = x1 + (Math.cos((angle+angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    y2 = y1 + (Math.sin((angle+angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    drawLine(x1, y1, x2, y2);
    drawCross(x2, y2, angle+angle_d, depth-1,depth_d, angle_d); 

    x2 = x1 + (Math.cos((angle-angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    y2 = y1 + (Math.sin((angle-angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    drawLine(x1, y1, x2, y2);
    drawCross(x2, y2, angle-angle_d, depth-1,depth_d, angle_d); 
    
if(depth == depth_d){
    x2 = x1 + (Math.cos((angle-angle_d-angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
     y2 = y1 + (Math.sin((angle-angle_d-angle_d) * deg_to_rad) * 100.0*Math.pow(1/2,depth_d-depth));
    drawLine(x1, y1, x2, y2);
    drawCross(x2, y2, angle-angle_d-angle_d, depth-1,depth_d, angle_d); 

  }
  }
}

function doDraw(){
  var depth = parseFloat(document.getElementById("depth").value) ;
 
  context.beginPath();
  drawCross(300, 500, -90, depth,depth, 90);
  context.closePath();
  context.stroke();
}

function doClear() {
  context.clearRect(0, 0, canvas.width, canvas.height) ;
}
</script>

</body>
</html>